<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add dyadic foreign policy similarity measures to your data — add_fpsim • peacesciencer</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Add dyadic foreign policy similarity measures to your data — add_fpsim"><meta name="description" content="add_fpsim() allows you to add a variety of dyadic foreign policy
similarity measures to your (dyad-year, leader-dyad-year) data frame"><meta property="og:description" content="add_fpsim() allows you to add a variety of dyadic foreign policy
similarity measures to your (dyad-year, leader-dyad-year) data frame"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">peacesciencer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.9</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">What’s Included?</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/bremer-example.html">Dyad-Year Example: A Basic Replication/Extension of Bremer (1992)</a></li>
    <li><a class="dropdown-item" href="../articles/coerce-dispute-year-dyad-year.html">How `{peacesciencer}` Coerces Dispute-Year Data into Dyad-Year Data</a></li>
    <li><a class="dropdown-item" href="../articles/democracy.html">Fixing Unnecessary Missingness in Democracy Scores in `{peacesciencer}`</a></li>
    <li><a class="dropdown-item" href="../articles/different-data-types.html">Create Different Kinds of Data in `{peacesciencer}`</a></li>
    <li><a class="dropdown-item" href="../articles/fearon-laitin-example.html">State-Year Example: A Basic Replication/Extension of Fearon and Laitin (2003)</a></li>
    <li><a class="dropdown-item" href="../articles/joins.html">A Discussion of Various Joins in `{peacesciencer}`</a></li>
    <li><a class="dropdown-item" href="../articles/parlor-tricks.html">Various Parlor Tricks in `{peacesciencer}`</a></li>
    <li><a class="dropdown-item" href="../articles/state-systems.html">A Discussion of the Two State Systems (CoW, G-W) in `{peacesciencer}`</a></li>
    <li><a class="dropdown-item" href="../articles/versions.html">`{peacesciencer}` Data Versions</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-manuscript" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Manuscript</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-manuscript"><li><a class="dropdown-item" href="../ms.html">HTML</a></li>
    <li><a class="dropdown-item" href="../ms.pdf">PDF</a></li>
    <li><a class="dropdown-item" href="../appendix.pdf">Appendix (PDF)</a></li>
    <li><a class="dropdown-item" href="../memo.pdf">(Peer Review) Memo (PDF)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/svmiller/peacesciencer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Add dyadic foreign policy similarity measures to your data</h1>
      <small class="dont-index">Source: <a href="https://github.com/svmiller/peacesciencer/blob/HEAD/R/add_fpsim.R" class="external-link"><code>R/add_fpsim.R</code></a></small>
      <div class="d-none name"><code>add_fpsim.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>add_fpsim()</code> allows you to add a variety of dyadic foreign policy
similarity measures to your (dyad-year, leader-dyad-year) data frame</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_fpsim</span><span class="op">(</span><span class="va">data</span>, <span class="va">keep</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>a data frame with appropriate <span class="pkg">peacesciencer</span> attributes</p></dd>


<dt id="arg-keep">keep<a class="anchor" aria-label="anchor" href="#arg-keep"></a></dt>
<dd><p>an optional parameter, specified as a character vector, about
what dyadic foreign policy similarity measure(s) the user wants returned
from this function. If <code>keep</code> is not specified, the function returns all
14 dyadic foreign policy similarity measures calculated by Haege (2011).
Otherwise, the function subsets the underlying data to just what the
user wants and merges in that.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>add_fpsim()</code> takes a (dyad-year, leader-dyad-year) data frame and
adds information about the dyadic foreign policy similarity, based on
several measures calculated and offered by Frank Haege.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For the dyad-year (and leader-dyad-year) data, there must be some kind of
information loss in order to reduce the disk space data like these command.
In this case, all calculations are rounded to three decimal spots. I do
not think this to be terribly problematic, though I admit I do not like it.
If this is a problem for your research question (though I can't imagine it
would be), you may want to consider not using this function for dyad-year
or leader-dyad-year data.</p>
<p>Be mindful that the data are fundamentally dyad-year and that extensions to
leader-level data should be understood as approximations for leaders-dyads
in a given dyad-year.</p>
<p>The data this function uses are directed dyad-year and the merge is a
left-join, making this function agnostic about whether your dyad-year
(or leader-dyad-year) data are directed or non-directed.</p>
<p>Haege's (2011) article reads at first glance as agnostic about which of
these particular measures you should consider a "preferred" or "default"
measure of dyadic foreign policy similarity. Indeed, the 2011
publication in <em>Political Analysis</em> mostly drives the point home that
<em>S</em> has important limitations and the multiple variants Haege calculates
are not substitutable. This means a user interested in measuring
dyadic foreign policy similarity might have to cycle through all
of them to assess their varying effects whereas a user interested
in this as just a control variable for the model can (probably)
get by with picking just one and not belaboring the measure
any further.</p><div class="section">
<h3 id="suggested-defaults">Suggested Defaults<a class="anchor" aria-label="anchor" href="#suggested-defaults"></a></h3>


<p>An evaluation of the data, the article, and an email exchange
with the author leads to the following points the user should
consider. What follows is a rationale for why users should think of
kappa as a default measure for dyadic foreign policy similarity, though
why the "valued" equivalent for the alliance data is an inadvisable
default. The example at the end of the document offers the operational
"nudge" for what the user should want from this function.</p><ul><li><p>The choice of measure will in part depend on the temporal
domain. If the user has just a post-WWII sample, the UN voting measures
offer better coverage. We're all partial to the alliance data, though,
because of its 19th century coverage.</p></li>
<li><p>Haege implores the use of chance-corrected measures, like Cohen's (1960)
kappa or Scott's (1955) pi. Of the two, Haege suggests kappa over pi. The
rationale is the user would need to build in a very strong assumption that
the baseline propensity of forming a tie in the dyad is the same for
both members of the dyad to make Scott's (1955) pi as appropriate an estimate
as Cohen's (1960) kappa even as both have the important chance correction.</p></li>
<li><p>The choice of squared versus absolute distances is arbitrary. Users
probably do not think about the differences, or know about the differences.
<em>S</em> was usually calculated with absolute differences in software packages,
though this was never usually belabored to the user. Comparability with <em>S</em>
might be an argument in favor of absolute distance as a default, but keep
in mind that squared distances are much more commonly used in most other
types of distance and association metrics.</p></li>
<li><p>The choice of binary or valued is also a design choice for the user to
consider on the full merits, though the practice of valuing alliance ties
on a quantitative scale builds in strong assumptions about the scale of
alliance strength as presented in something like the Correlates of War
or ATOP typology. <em>S</em> has traditionally done this by default, which is
another reason its application in a lot of quantitative peace science
research is suspect.</p></li>
</ul></div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<div class="section">
<h3 id="the-main-source-of-the-data">The Main Source of the Data<a class="anchor" aria-label="anchor" href="#the-main-source-of-the-data"></a></h3>


<p>For any use of these data whatsoever (except for Tau-b), please cite
Haege (2011). Data are version 2.0.</p><ul><li><p>Haege, Frank M. 2011. "Choice or Circumstance? Adjusting Measures of
Foreign Policy Similarity for Chance Agreement."
<em>Political Analysis</em> 19(3): 287-305.</p></li>
</ul><p>Tau-b is calculated by me and not Haege, and no additional citation (beyond
citing the package) is necessary.</p>
</div>

<div class="section">
<h3 id="citations-for-the-particular-similarity-measure-you-choose">Citations for the Particular Similarity Measure You Choose<a class="anchor" aria-label="anchor" href="#citations-for-the-particular-similarity-measure-you-choose"></a></h3>


<p>Additional citations depend on what particular measure of similarity you're
using, whether Kendall's (1938) Tau-b, Signorino and Ritter's (1999) <em>S</em>,
Cohen's (1960) kappa and Scott's (1955) pi. Haege (2011) is part of a chorus
arguing against the use of <em>S</em>, though <em>S</em> measures are included in these
data if you elect to ignore the chorus and use this measure. Likewise, Tau-b
is in here, though it is not a good measure of dyadic foreign policy
similarity for reasons that Signorino and Ritter (1999) mention.
Haege (2011) argues for a chance-corrected measure of dyadic foreign policy
similarity, either Cohen's (1960) kappa or Scott's (1955) pi.</p><ul><li><p>Cohen, Jacob. 1960. "A Coefficient of Agreement for Nominal Scales."
<em>Educational and Psychological Measurement</em> 20(1): 37-46.</p></li>
<li><p>Kendall, M.G. 1938. "A New Measure of Rank Correlation."
<em>Biometrika</em> 30(1/2): 81–93.</p></li>
<li><p>Scott, William A. 1955. "Reliability of Content Analysis: The Case of
Nominal Scale Coding." <em>Public Opinion Quarterly</em> 19(3): 321–5.</p></li>
<li><p>Signorino, Curtis S. and Jeffrey M. Ritter. "Tau-b or Not Tau-B: Measuring
the Similarity of Foreign Policy Positions." 43(1): 115–44.</p></li>
</ul></div>

<div class="section">
<h3 id="citations-for-the-underlying-data-informing-the-similarity-measure">Citations for the Underlying Data Informing the Similarity Measure<a class="anchor" aria-label="anchor" href="#citations-for-the-underlying-data-informing-the-similarity-measure"></a></h3>


<p>Haege (2011) also suggests you cite the underlying data informing the
similarity measure, whether it is UN voting or alliances. In his case,
he recommended a Voeten citation from 2013 and the alliance data proper.
In the case of the alliances, I know Gibler's (2009) book is recommended
even if the alliance data have since been updated (and reflected in this
measure). In the UN voting data, my understanding is the 2017 paper in
<em>Journal of Conflict Resolution</em> is also the preferred citation.</p><ul><li><p>Bailey, Michael A., Anton Strezhnev, and Erik Voeten. 2017.
"Estimating the Dynamic State Preferences from United Nations Voting Data."
<em>Journal of Conflict Resolution</em> 61(2): 430–456.</p></li>
<li><p>Gibler, Douglas M. 2009. <em>International Military Alliances, 1648-2008</em>.
Washington DC: CQ Press.</p></li>
</ul></div>

    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Steven V. Miller</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># just call `library(tidyverse)` at the top of the your script.</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The function below works, but depends on</span></span></span>
<span class="r-in"><span><span class="co"># running `download_extdata()` beforehand.</span></span></span>
<span class="r-in"><span><span class="va">cow_ddy</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">add_fpsim</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Select just the two kappa measures that are suggested defaults.</span></span></span>
<span class="r-in"><span><span class="co"># `kappaba`: kappa for binary alliance data if you have pre-WWII data.</span></span></span>
<span class="r-in"><span><span class="co"># `kappavv`: kappa for UN voting data if you just post-WWII data.</span></span></span>
<span class="r-in"><span><span class="va">cow_ddy</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">add_fpsim</span><span class="op">(</span>keep<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"kappaba"</span>, <span class="st">"kappavv"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Steve Miller.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

