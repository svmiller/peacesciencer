<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add minimum distance data to your data frame — add_minimum_distance • peacesciencer</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Add minimum distance data to your data frame — add_minimum_distance"><meta name="description" content="add_minimum_distance() allows you to add the minimum
distance (in kilometers) to a dyad-year, state-year, leader-year, or
leader-dyad-year data. These estimates span the temporal domain of 1886 to
2019."><meta property="og:description" content="add_minimum_distance() allows you to add the minimum
distance (in kilometers) to a dyad-year, state-year, leader-year, or
leader-dyad-year data. These estimates span the temporal domain of 1886 to
2019."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">peacesciencer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">What’s Included?</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/bremer-example.html">Dyad-Year Example: A Basic Replication/Extension of Bremer (1992)</a></li>
    <li><a class="dropdown-item" href="../articles/coerce-dispute-year-dyad-year.html">How `{peacesciencer}` Coerces Dispute-Year Data into Dyad-Year Data</a></li>
    <li><a class="dropdown-item" href="../articles/democracy.html">Fixing Unnecessary Missingness in Democracy Scores in `{peacesciencer}`</a></li>
    <li><a class="dropdown-item" href="../articles/different-data-types.html">Create Different Kinds of Data in `{peacesciencer}`</a></li>
    <li><a class="dropdown-item" href="../articles/fearon-laitin-example.html">State-Year Example: A Basic Replication/Extension of Fearon and Laitin (2003)</a></li>
    <li><a class="dropdown-item" href="../articles/joins.html">A Discussion of Various Joins in `{peacesciencer}`</a></li>
    <li><a class="dropdown-item" href="../articles/parlor-tricks.html">Various Parlor Tricks in `{peacesciencer}`</a></li>
    <li><a class="dropdown-item" href="../articles/state-systems.html">A Discussion of the Two State Systems (CoW, G-W) in `{peacesciencer}`</a></li>
    <li><a class="dropdown-item" href="../articles/versions.html">`{peacesciencer}` Data Versions</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-manuscript" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Manuscript</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-manuscript"><li><a class="dropdown-item" href="../ms.html">HTML</a></li>
    <li><a class="dropdown-item" href="../ms.pdf">PDF</a></li>
    <li><a class="dropdown-item" href="../appendix.pdf">Appendix (PDF)</a></li>
    <li><a class="dropdown-item" href="../memo.pdf">(Peer Review) Memo (PDF)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/svmiller/peacesciencer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Add minimum distance data to your data frame</h1>
      <small class="dont-index">Source: <a href="https://github.com/svmiller/peacesciencer/blob/HEAD/R/add_minimum_distance.R" class="external-link"><code>R/add_minimum_distance.R</code></a></small>
      <div class="d-none name"><code>add_minimum_distance.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>add_minimum_distance()</code> allows you to add the minimum
distance (in kilometers) to a dyad-year, state-year, leader-year, or
leader-dyad-year data. These estimates span the temporal domain of 1886 to
2019.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_minimum_distance</span><span class="op">(</span><span class="va">data</span>, use_extdata <span class="op">=</span> <span class="cn">TRUE</span>, slice <span class="op">=</span> <span class="st">"first"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">add_min_dist</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>a data frame with appropriate <span class="pkg">peacesciencer</span> attributes</p></dd>


<dt id="arg-use-extdata">use_extdata<a class="anchor" aria-label="anchor" href="#arg-use-extdata"></a></dt>
<dd><p>logical, defaults to TRUE. If TRUE, the function uses the
augmented version of the minimum distance data made available by way of the
<code><a href="download_extdata.html">download_extdata()</a></code> function. If FALSE, the function uses either
<code>cow_mindist</code> or <code>gw_mindist</code> in the package.</p></dd>


<dt id="arg-slice">slice<a class="anchor" aria-label="anchor" href="#arg-slice"></a></dt>
<dd><p>concerns data subset behavior when <code>use_extdata</code> is TRUE. Can
be either "first" (the default option), "jan1", "june30", "last", or "dec31".
See details section for more.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>optional, only to make the shortcut (<code>add_min_dist()</code>) work</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>add_minimum_distance()</code> takes a (dyad-year, leader-year,
leader-dyad-year, state-year) data frame and adds the minimum distance
between the first state and the second state (in dyad-year or leader-dyad-year
data) or the minimum minimum (sic) distance for a given state in a given year
for data that are state-year or leader-year.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function leans on attributes of the data that are provided by one of the
"create" functions in this package (e.g. <code><a href="create_dyadyears.html">create_dyadyears()</a></code> or
<code><a href="create_stateyears.html">create_stateyears()</a></code>).</p>
<p>This function will add estimates to leader-level data (like the kind created
<code><a href="create_leaderyears.html">create_leaderyears()</a></code> or <code><a href="create_leaderdyadyears.html">create_leaderdyadyears()</a></code>), but the standard
caveat applies that the minimum distance data merged into these kinds of
data should be understood as approximations.</p>
<p>The function will create an on-the-fly directed version of the non-directed
data prior to merging, even if your data are non-directed. It's just easier
to do it that way and the concern for computation time is minimal.</p>
<p>Underneath the hood, a grouped summarize function returning a minimum estimate
generates the value for state-year or leader-year data. If there is a given
year where there is no minimum distance recorded whatsoever, this value is
infinity. The function quietly corrects this underneath the hood, but the
summarize function that calculates this still returns this warning.</p>
<p>The <code>use_extdata</code> argument checks for whether you have the "plus" version of
the data in the package's extdata directory. If you don't have it, the
function issues a stop suggesting that you should run <code><a href="download_extdata.html">download_extdata()</a></code> to
get a copy of these data or to set <code>use_extdata</code> to be FALSE.</p>
<p><code><a href="download_extdata.html">download_extdata()</a></code> has additional information about the data sets that
<code>use_extdata</code> would incorporate into your data. Check for "minimum distance"
in the documentation there, and be mindful of your state system that
<span class="pkg">peacesciencer</span> is treating as your master system.</p><div class="section">
<h3 id="on-the-slice-argument">On the <code>slice</code> Argument<a class="anchor" aria-label="anchor" href="#on-the-slice-argument"></a></h3>


<p>The <code>slice</code> argument is applicable only when <code>use_extdata</code> is TRUE and
determines how the minimum distance data are sliced prior to merging into
your data set. The "plussed up" version of the minimum distance data that you
can retrieve from <code><a href="download_extdata.html">download_extdata()</a></code> and optionally use in this function
has every dyadic minimum distance from 1886 to 2019, by year, on Jan. 1,
June 30, Dec. 31, and at any point in a given year where the dyadic minimum
distance changed for one reason or another. A quick explanation follows.</p>
<p><em>"first"</em>: this is the default option. It will return the earliest observed
minimum distance in a given dyad-year. In most cases, this is Jan. 1 of a
given year. However, it need not be. For example, the minimum distance in
the Correlates of War version of the data for the United States and Canada is
on Jan. 10, 1920.</p>
<p><em>"jan1"</em>: entering this as the value in the <code>slice</code> argument returns the
minimum distance observed on Jan. 1 of the referent year. Using the above
case of Canada and the United States in 1920, this observation would be
missing for the year because the dyad did not exist on Jan. 1, 1920 in the
Correlates of War system. This incidentally the only option available to you
if <code>use_extdata</code> is set to FALSE. <a href="cow_mindist.html">cow_mindist</a> and <a href="gw_mindist.html">gw_mindist</a> are
benchmarked to Jan. 1 of a given year.</p>
<p><em>"june30"</em>: this is the recorded minimum distance, if one exists, for a dyad
on June 30 of a given year. This is a basic midway point of a calendar year.
Selecting this means there would be no minimum distance inserted for Germany
and Austria in 1938 in the Correlates of War system. Austria momentarily exits
the system on March 13, 1938.</p>
<p><em>"dec31"</em>: this is the recorded minimum distance, if one exists, for a dyad
on Dec. 31 of a given year. Selecting this means there would be no minimum
distance between the Republic of Vietnam and China in 1975 in the Correlates
of War system. The Republic of Vietnam was eliminated from the international
system on April 30 of that year.</p>
<p><em>"last"</em>: this will return the last observed minimum distance in a given
dyad-year. In most cases, this is Dec. 31 of a given year. However, it need
not be. In the above cases concerning some manner of system exit, the last
observed minimum distance would be used.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Schvitz, Guy, Luc Girardin, Seraina Ruegger, Nils B. Weidmann, Lars-Erik
Cederman, and Kristian Skrede Gleditsch. 2022. "Mapping The International
System, 1886-2017: The <code>CShapes</code> 2.0 Dataset." <em>Journal of Conflict
Resolution</em>. 66(1): 144-161.</p>
<p>Weidmann, Nils B. and Kristian Skrede Gleditsch. 2010. "Mapping and Measuring
Country Shapes: The <code>cshapes</code> Package." <em>The R Journal</em> 2(1): 18-24.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Steven V. Miller</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># just call `library(tidyverse)` at the top of the your script</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cow_ddy</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">add_minimum_distance</span><span class="op">(</span>use_extdata <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2,214,930 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    ccode1 ccode2  year mindist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>      2     20  <span style="text-decoration: underline;">1</span>920      <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>      2     20  <span style="text-decoration: underline;">1</span>921       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>      2     20  <span style="text-decoration: underline;">1</span>922       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>      2     20  <span style="text-decoration: underline;">1</span>923       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>      2     20  <span style="text-decoration: underline;">1</span>924       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>      2     20  <span style="text-decoration: underline;">1</span>925       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>      2     20  <span style="text-decoration: underline;">1</span>926       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>      2     20  <span style="text-decoration: underline;">1</span>927       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>      2     20  <span style="text-decoration: underline;">1</span>928       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>      2     20  <span style="text-decoration: underline;">1</span>929       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2,214,920 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Steve Miller.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

